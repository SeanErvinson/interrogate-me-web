@page "{link}"
@model InterrogateMe.Web.Pages.ResultModel


<div class="content">
    <div class="container bound">
        <div class="sub-container">
            <h2>Result</h2>

            <ul id="questionList">
                @foreach(var question in Model.Questions) {
                <li>
                    <div id=@question.id class="questions">
                        <h1>@question.Content</h1>
                    </div>
                </li>
                }
            </ul>
        </div>
    </div>
</div>


@section Scripts{

<script src="~/lib/signalr/signalr.js"></script>
<script src="~/js/interrogatehub.js"></script>
<script>
    (function () {
        var url = window.location.pathname;
        url = url.substring(url.lastIndexOf("/") + 1, url.length);

        var hub = new InterrogateHub();

        hub.onNotifyList = (question) => {
            var content = question.content;
            $("#questionList").append(
                $('<li>').append(
                    $('<div>').append(
                        $('<h1>').append(content)
                    )
                )
            );
        }
        hub.start(url);
    })();
</script> }