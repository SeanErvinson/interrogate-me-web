@page "{link}"
@model InterrogateMe.Web.Pages.ResultModel

<h2>Result</h2>

<ul id="questionList">
    @foreach(var question in Model.Questions)
    {
        <li>
            <div>
                <h1>@question.Content</h1>
            </div>
        </li>
    }
</ul>



@section Scripts{

<script src="~/lib/signalr/signalr.js"></script>
<script src="~/js/interrogatehub.js"></script>
<script>
    (function () {
        var url = window.location.pathname;
        url = url.substring(url.lastIndexOf("/") + 1, url.length);

        var hub = new InterrogateHub();

        hub.onNotifyList = (question) => {
            var content = question.content;
            $("#questionList").append(
                $('<li>').append(
                    $('<div>').append(
                        $('<h1>').append(content)
                    )
                )
            );
        }
        hub.start(url);
    })();
</script>

}